
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>jDoctest &mdash; jDoctest v0.0.9 documentation</title>
    <link rel="stylesheet" href="_static/jdoctest.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="jDoctest v0.0.9 documentation" href="#" /> 
  </head>
  <body>
  <div class="wrap">
    <div class="logo">jDoctest</div>
    <div class="tocwrapper">
      <div class="showtoc">(<span>Show Table Of Contents</span>)</div>
      <div class="hidetoc">(<span>Hide Table Of Contents</span>)</div>
      <div class="toc"><ul>
<li><a class="reference internal" href="#">jDoctest</a><ul>
<li><a class="reference internal" href="#browser-support">Browser Support</a></li>
<li><a class="reference internal" href="#getting-jdoctest">Getting jDoctest</a></li>
<li><a class="reference internal" href="#how-to-use">How To Use</a><ul>
<li><a class="reference internal" href="#simple-tutorial">Simple Tutorial</a></li>
<li><a class="reference internal" href="#with-qunit">With QUnit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-it-works">How It Works</a><ul>
<li><a class="reference internal" href="#what-s-a-docstring">What&#8217;s a Docstring?</a></li>
<li><a class="reference internal" href="#what-s-a-testable-example">What&#8217;s a Testable Example?</a></li>
<li><a class="reference internal" href="#using-blankline-token">Using <tt class="docutils literal"><span class="pre">BLANKLINE</span></tt> Token</a></li>
<li><a class="reference internal" href="#testing-with-option-flags">Testing with Option Flags</a></li>
<li><a class="reference internal" href="#helper-functions">Helper Functions</a></li>
<li><a class="reference internal" href="#customization">Customization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api">API</a></li>
<li><a class="reference internal" href="#license">License</a><ul>
<li><a class="reference internal" href="#authors">Authors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#more-informations">More Informations</a></li>
</ul>
</li>
</ul>
</div>
      <script>
        var toc = $( ".toc" );
        $( ".showtoc span" ).click(function() {
          $( this ).parent().hide().next().show();
          toc.slideDown( "fast" );
        });
        $( ".hidetoc span" ).click(function() {
          $( this ).parent().hide().prev().show();
          toc.slideUp( "fast" );
        });
      </script>
    </div>
    


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="jdoctest">
<h1>jDoctest<a class="headerlink" href="#jdoctest" title="Permalink to this headline">¶</a></h1>
<p>jDoctest is an useful test library for JavaScript that was inspired by
<a class="reference external" href="http://python.org/">Python</a>&#8216;s <a class="reference external" href="http://docs.python.org/library/doctest.html">doctest</a> module. It finds testable examples within your
JavaScript files and checks if each example runs successfully.</p>
<p>No more you need separated test files or documentation files. You only need <em>a
single file</em> which contains an executable source code, documentations, and
testable examples.</p>
<div class="figure">
<img alt="The overview illustration" src="_images/overview.png" />
</div>
<div class="section" id="browser-support">
<h2>Browser Support<a class="headerlink" href="#browser-support" title="Permalink to this headline">¶</a></h2>
<p>jDoctest supports these common browsers.</p>
<ul class="simple">
<li>Google Chrome</li>
<li>Safari</li>
<li>Firefox</li>
<li>Opera</li>
</ul>
<p>jDoctest doesn&#8217;t support Internet Explorer yet, because IE&#8217;s implementation of
the <tt class="docutils literal"><span class="pre">eval</span></tt> function is different from other supported browsers.</p>
</div>
<div class="section" id="getting-jdoctest">
<h2>Getting jDoctest<a class="headerlink" href="#getting-jdoctest" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="http://github.com/lunant/jdoctest">repository</a> for jDoctest is hosted at GitHub. You can checkout the source
code with the following command.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> git clone git://github.com/lunant/jdoctest.git jdoctest
</pre></div>
</div>
<p>Or download the <a class="reference external" href="http://github.com/lunant/jdoctest/zipball/master#egg=jdoctest-dev">compressed file</a>.</p>
</div>
<div class="section" id="how-to-use">
<h2>How To Use<a class="headerlink" href="#how-to-use" title="Permalink to this headline">¶</a></h2>
<div class="section" id="simple-tutorial">
<h3>Simple Tutorial<a class="headerlink" href="#simple-tutorial" title="Permalink to this headline">¶</a></h3>
<p>Here is a small sample code:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">ImageFile</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">url</span> <span class="p">)</span> <span class="p">{</span>
    <span class="cm">/**class:ImageFile( url )</span>

<span class="cm">    A container for an image file.</span>

<span class="cm">        &gt;&gt;&gt; var img = new ImageFile( &quot;_static/jdoctest.png&quot; );</span>
<span class="cm">        &gt;&gt;&gt; img.url;</span>
<span class="cm">        &#39;_static/jdoctest.png&#39;</span>
<span class="cm">    */</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">url</span> <span class="p">);</span>
<span class="p">};</span>
<span class="nx">ImageFile</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">fetchData</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="cm">/**:ImageFile.prototype.fetchData()</span>

<span class="cm">        Requests the server for the image file. When the request is</span>
<span class="cm">        complete, it also sets the ``size`` and ``modified`` attributes</span>
<span class="cm">        of the object.</span>

<span class="cm">            &gt;&gt;&gt; img.fetchData();</span>
<span class="cm">            &gt;&gt;&gt; wait(function() { return img.data; });</span>
<span class="cm">            &gt;&gt;&gt; img.size;</span>
<span class="cm">            30295</span>
<span class="cm">            &gt;&gt;&gt; img.modified; //doctest: +SKIP</span>
<span class="cm">            Sat Sep 25 2010 19:57:47 GMT+0900 (KST)</span>
<span class="cm">        */</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">size</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">modified</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span> <span class="c1">// Not Implemented Yet</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Now you&#8217;ll notice that the sample code we&#8217;ve just written contains example
codes that describe the behaviours of <tt class="docutils literal"><span class="pre">ImageFile</span></tt>. We should run the examples
to make sure that our implementation of <tt class="docutils literal"><span class="pre">ImageFile</span></tt> behaves as expected.</p>
<p>Before testing, we should save this code to a file named <tt class="docutils literal"><span class="pre">imagefile.js</span></tt>. To
run the test, all we need to do is:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;jquery.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;jdoctest.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">testSource</span><span class="p">(</span> <span class="s2">&quot;imagefile.js&quot;</span> <span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>
</div>
<p>By default, jDoctest reports using <tt class="docutils literal"><span class="pre">console.log</span></tt>, <tt class="docutils literal"><span class="pre">console.warn</span></tt>, and
<tt class="docutils literal"><span class="pre">console.error</span></tt>. Watch the console output of the your browser! Is there no
output? Don&#8217;t worry. It means the test ran successfully. jDoctest reports only
failures by default. We can also see the progress of the test with the
<tt class="docutils literal"><span class="pre">verbose</span></tt> option:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="nx">jDoctest</span><span class="p">.</span><span class="nx">testSource</span><span class="p">(</span> <span class="s2">&quot;imagefile.js&quot;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">verbose</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">});</span>
</pre></div>
</div>
<p>jDoctest should report back:</p>
<div class="highlight-text"><div class="highlight"><pre>Trying:
    var img = new ImageFile( &quot;_static/jdoctest.png&quot; );
Expecting nothing
---------------------------------------------
ok
---------------------------------------------
Trying:
    img.url;
Expecting:
    &#39;_static/jdoctest.png&#39;
---------------------------------------------
ok
---------------------------------------------
Trying:
    img.fetchData();
Expecting nothing
---------------------------------------------
ok
---------------------------------------------
Trying:
    wait(function() { return img.data; });
Expecting nothing
---------------------------------------------
ok
---------------------------------------------
Trying:
    img.size;
Expecting:
    30295
---------------------------------------------
ok
---------------------------------------------
4 passed.
</pre></div>
</div>
<p>Let&#8217;s make an example that fails. Our previous code already had a failing
example but right now it is being ignored:</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="nx">img</span><span class="p">.</span><span class="nx">modified</span><span class="p">;</span> <span class="c1">//doctest: +SKIP</span>
</pre></div>
</div>
<p>We&#8217;ve used <a class="reference internal" href="#jDoctest.flags.SKIP" title="jDoctest.flags.SKIP"><tt class="xref js js-meth docutils literal"><span class="pre">jDoctest.flags.SKIP()</span></tt></a> flag(<tt class="docutils literal"><span class="pre">//doctest:</span> <span class="pre">+SKIP</span></tt>) to ignore
this example. We&#8217;ll talk more about the flags later on, but for now, we can
remove this flag to get a failing example:</p>
<div class="highlight-text"><div class="highlight"><pre>...
---------------------------------------------
Trying:
    img.modified;
Expecting:
    Sat Sep 25 2010 19:57:47 GMT+0900 (KST)
---------------------------------------------
File imagefile.js, line 23
Failed example:
    img.modified;
Expected:
    Sat Sep 25 2010 19:57:47 GMT+0900 (KST)
Got:
    Mon Sep 27 2010 00:40:19 GMT+0900 (KST)
---------------------------------------------
4 passed and 1 failed.
***Test Failed*** 1 failures.
</pre></div>
</div>
<p>jDoctest returns the file name and the line number for each failed example. We
could use this information to debug more efficiently.</p>
</div>
<div class="section" id="with-qunit">
<h3>With QUnit<a class="headerlink" href="#with-qunit" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://docs.jquery.com/qunit">QUnit</a> is a powerful test suite used by jQuery&#8217;s official projects.</p>
<p>jDoctest provides an extension for testing with QUnit. To use this extension,
load <tt class="docutils literal"><span class="pre">jdoctest-qunit.js</span></tt>, setup QUnit template, and run
<tt class="xref js js-meth docutils literal"><span class="pre">jDoctest.testWithQUnit()</span></tt>:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;title&gt;</span>jDoctest with QUnit Test Suite<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;qunit.css&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;qunit.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;jquery.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;jdoctest.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;jdoctest-qunit.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;h1</span> <span class="na">id=</span><span class="s">&quot;qunit-header&quot;</span><span class="nt">&gt;</span>jDoctest with QUnit Test Suite<span class="nt">&lt;/h1&gt;</span>
  <span class="nt">&lt;h2</span> <span class="na">id=</span><span class="s">&quot;qunit-banner&quot;</span><span class="nt">&gt;&lt;/h2&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;qunit-testrunner-toolbar&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;h2</span> <span class="na">id=</span><span class="s">&quot;qunit-userAgent&quot;</span><span class="nt">&gt;&lt;/h2&gt;</span>
  <span class="nt">&lt;ol</span> <span class="na">id=</span><span class="s">&quot;qunit-tests&quot;</span><span class="nt">&gt;&lt;/ol&gt;</span>
  <span class="nt">&lt;script&gt;</span>
    <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">testWithQUnit</span><span class="p">(</span> <span class="s2">&quot;imagefile.js&quot;</span> <span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>The result will look like:</p>
<div class="figure">
<img alt="The screenshot of jDoctest with QUnit test suite" src="_images/qunit-example.png" />
</div>
<p>Isn&#8217;t it much more beautiful and readable than default <tt class="docutils literal"><span class="pre">console</span></tt> outputs? We
can now test using jDoctest-QUnit instead of vanilla jDoctest.</p>
</div>
</div>
<div class="section" id="how-it-works">
<h2>How It Works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h2>
<p>jDoctest examines docstrings in your source code to find testable examples.
You&#8217;ll need to write your tests within the source code.</p>
<div class="section" id="what-s-a-docstring">
<h3>What&#8217;s a Docstring?<a class="headerlink" href="#what-s-a-docstring" title="Permalink to this headline">¶</a></h3>
<p>A docstring is a multiline comment that starts with <tt class="docutils literal"><span class="pre">/**</span></tt>. The JavaScript
comment below is a docstring. You can write the description or the
detailed documentation of some function or class or anything in the docstring:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="cm">/**</span>
<span class="cm">It is a docstring.</span>
<span class="cm">*/</span>
</pre></div>
</div>
<p>Optionally, a docstring could have a subject that is started with <tt class="docutils literal"><span class="pre">:</span></tt> and
positioned behind <tt class="docutils literal"><span class="pre">/**</span></tt>. A subject could accept any string, but you should
really use the function or the class&#8217; signature:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="cm">/**:Number.prototype.limit( [ min, ] max )</span>

<span class="cm">If the number supplied is outside the range of ``min`` and ``max``, returns</span>
<span class="cm">``min`` or ``max``. Otherwise it returns the number.</span>
<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="what-s-a-testable-example">
<h3>What&#8217;s a Testable Example?<a class="headerlink" href="#what-s-a-testable-example" title="Permalink to this headline">¶</a></h3>
<p>A testable example looks like an interactive JavaScript session:</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="nb">String</span><span class="p">(</span> <span class="mi">12345</span> <span class="p">);</span>
<span class="go">&#39;12345&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="p">(</span> <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span> <span class="p">)</span> <span class="p">{</span>
<span class="gp">...</span>     <span class="nx">print</span><span class="p">(</span> <span class="nx">i</span> <span class="p">);</span>
<span class="gp">...</span> <span class="p">}</span>
<span class="go">54321</span>
</pre></div>
</div>
<p>It should be written in a docstring:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="cm">/**:The subject of the docstring</span>

<span class="cm">Hello, You. I am a docstring. Here are some testable examples:</span>

<span class="cm">    &gt;&gt;&gt; String( 12345 );</span>
<span class="cm">    &#39;12345&#39;</span>
<span class="cm">    &gt;&gt;&gt; for ( var i = 5; i &gt;= 1; i-- ) {</span>
<span class="cm">    ...     print( i );</span>
<span class="cm">    ... }</span>
<span class="cm">    54321</span>
<span class="cm">*/</span>
</pre></div>
</div>
<p>A testable example has an executable code and an expected output. An output is
a result of <a class="reference internal" href="#jDoctest.repr" title="jDoctest.repr"><tt class="xref js js-func docutils literal"><span class="pre">jDoctest.repr()</span></tt></a>. If the expected value is <tt class="docutils literal"><span class="pre">undefined</span></tt>, the
output section is not needed. jDoctest will check if the expected output equals
the actual output and report the result.</p>
</div>
<div class="section" id="using-blankline-token">
<h3>Using <tt class="docutils literal"><span class="pre">BLANKLINE</span></tt> Token<a class="headerlink" href="#using-blankline-token" title="Permalink to this headline">¶</a></h3>
<p>A testable example doesn&#8217;t contain a blank line, but what if your expected
output contains one? If you want to include a blank line in the expected
output, use <tt class="docutils literal"><span class="pre">&lt;BLANKLINE&gt;</span></tt> instead:</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="nx">print</span><span class="p">(</span> <span class="s2">&quot;Hello,\n\nWorld!&quot;</span> <span class="p">);</span>
<span class="go">Hello,</span>
<span class="go">&lt;BLANKLINE&gt;</span>
<span class="go">world!</span>
</pre></div>
</div>
</div>
<div class="section" id="testing-with-option-flags">
<h3>Testing with Option Flags<a class="headerlink" href="#testing-with-option-flags" title="Permalink to this headline">¶</a></h3>
<p>Sometimes you want to alter the default behaviour of your tests. The testing
option flags are suitable for this situation.</p>
<p>A single line comment that starts with <tt class="docutils literal"><span class="pre">//doctest:</span></tt> is a doctest directive.
To add an option flag, add a doctest directive and list the flags you wish to
use on the example code:</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">//doctest: +SKIP</span>
<span class="gp">...</span> <span class="c1">// This example will be skipped because of the ``SKIP`` flag.</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kc">undefined</span><span class="p">.</span><span class="nx">property</span><span class="p">;</span> <span class="c1">//doctest: +IGNORE_ERROR_MESSAGE</span>
<span class="go">TypeError: Cannot read property &#39;property&#39; of undefined</span>
</pre></div>
</div>
<dl class="function">
<dt id="jDoctest.flags.ACCEPT_BLANKLINE">
<tt class="descclassname">jDoctest.flags.</tt><tt class="descname">ACCEPT_BLANKLINE</tt><big>(</big><em>want</em>, <em>got</em><big>)</big><a class="headerlink" href="#jDoctest.flags.ACCEPT_BLANKLINE" title="Permalink to this definition">¶</a></dt>
<dd><p>Default flag.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="nx">print</span><span class="p">(</span> <span class="s2">&quot;a\n\nb&quot;</span> <span class="p">);</span>
<span class="go">a</span>
<span class="go">&lt;BLANKLINE&gt;</span>
<span class="go">b</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">print</span><span class="p">(</span> <span class="s2">&quot;&lt;BLANKLINE&gt;&quot;</span> <span class="p">);</span> <span class="c1">//doctest: -ACCEPT_BLANKLINE</span>
<span class="go">&lt;BLANKLINE&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="jDoctest.flags.ACCEPT_TRUE_FOR_1">
<tt class="descclassname">jDoctest.flags.</tt><tt class="descname">ACCEPT_TRUE_FOR_1</tt><big>(</big><em>want</em>, <em>got</em><big>)</big><a class="headerlink" href="#jDoctest.flags.ACCEPT_TRUE_FOR_1" title="Permalink to this definition">¶</a></dt>
<dd><p>Default flag.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="mi">1</span> <span class="o">===</span> <span class="mi">1</span><span class="p">;</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="mi">1</span> <span class="o">===</span> <span class="mi">1</span><span class="p">;</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="mi">1</span> <span class="o">===</span> <span class="mi">2</span><span class="p">;</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="mi">1</span> <span class="o">===</span> <span class="mi">2</span><span class="p">;</span>
<span class="go">false</span>
</pre></div>
</div>
</dd></dl>

<dl class="data">
<dt id="jDoctest.flags.DONT_ACCEPT_BLANKLINE">
<tt class="descclassname">jDoctest.flags.</tt><tt class="descname">DONT_ACCEPT_BLANKLINE</tt><a class="headerlink" href="#jDoctest.flags.DONT_ACCEPT_BLANKLINE" title="Permalink to this definition">¶</a></dt>
<dd><p>A negetive flag for <a class="reference internal" href="#jDoctest.flags.ACCEPT_BLANKLINE" title="jDoctest.flags.ACCEPT_BLANKLINE"><tt class="xref js js-func docutils literal"><span class="pre">jDoctest.flags.ACCEPT_BLANKLINE()</span></tt></a>.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="nx">print</span><span class="p">(</span> <span class="s2">&quot;&lt;BLANKLINE&gt;&quot;</span> <span class="p">);</span> <span class="c1">//doctest: +DONT_ACCEPT_BLANKLINE</span>
<span class="go">&lt;BLANKLINE&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="data">
<dt id="jDoctest.flags.DONT_ACCEPT_TRUE_FOR_1">
<tt class="descclassname">jDoctest.flags.</tt><tt class="descname">DONT_ACCEPT_TRUE_FOR_1</tt><a class="headerlink" href="#jDoctest.flags.DONT_ACCEPT_TRUE_FOR_1" title="Permalink to this definition">¶</a></dt>
<dd><p>A negetive flag for <a class="reference internal" href="#jDoctest.flags.ACCEPT_TRUE_FOR_1" title="jDoctest.flags.ACCEPT_TRUE_FOR_1"><tt class="xref js js-func docutils literal"><span class="pre">jDoctest.flags.ACCEPT_TRUE_FOR_1()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="jDoctest.flags.ELLIPSIS">
<tt class="descclassname">jDoctest.flags.</tt><tt class="descname">ELLIPSIS</tt><big>(</big><em>want</em>, <em>got</em><big>)</big><a class="headerlink" href="#jDoctest.flags.ELLIPSIS" title="Permalink to this definition">¶</a></dt>
<dd><p>When specified, an ellipsis marker(<tt class="docutils literal"><span class="pre">...</span></tt>) in the expected output can
match any substring in the actual output.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">want</span> <span class="o">=</span> <span class="s2">&quot;j...t&quot;</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">flags</span><span class="p">.</span><span class="nx">ELLIPSIS</span><span class="p">(</span> <span class="nx">want</span><span class="p">,</span> <span class="s2">&quot;jDoctest&quot;</span> <span class="p">);</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">flags</span><span class="p">.</span><span class="nx">ELLIPSIS</span><span class="p">(</span> <span class="nx">want</span><span class="p">,</span> <span class="s2">&quot;jDoctest Team&quot;</span> <span class="p">);</span>
<span class="go">false</span>
</pre></div>
</div>
<p>Here is an example in the real world:</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="s2">&quot;foobar&quot;</span><span class="p">;</span> <span class="c1">//doctest: +ELLIPSIS</span>
<span class="go">&#39;foo...&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="s2">&quot;foobar&quot;</span><span class="p">;</span> <span class="c1">//doctest: +ELLIPSIS</span>
<span class="go">&#39;foobar...&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span> <span class="s2">&quot;foo&quot;</span> <span class="p">);</span> <span class="c1">//doctest: +ELLIPSIS</span>
<span class="go">TypeError: ...</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="jDoctest.flags.IGNORE_ERROR_MESSAGE">
<tt class="descclassname">jDoctest.flags.</tt><tt class="descname">IGNORE_ERROR_MESSAGE</tt><big>(</big><em>want</em>, <em>got</em><big>)</big><a class="headerlink" href="#jDoctest.flags.IGNORE_ERROR_MESSAGE" title="Permalink to this definition">¶</a></dt>
<dd><p>When specified, the error message does not match. It is useful to
cross-browser because some error message is different in various
browsers.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">want</span> <span class="o">=</span> <span class="s2">&quot;ReferenceError: TEST is not defined&quot;</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">got</span> <span class="o">=</span> <span class="s2">&quot;ReferenceError: Can&#39;t find variable: TEST&quot;</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">got2</span> <span class="o">=</span> <span class="s2">&quot;TypeError: TEST is not defined&quot;</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">flags</span><span class="p">.</span><span class="nx">IGNORE_ERROR_MESSAGE</span><span class="p">(</span> <span class="nx">want</span><span class="p">,</span> <span class="nx">got</span> <span class="p">);</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">flags</span><span class="p">.</span><span class="nx">IGNORE_ERROR_MESSAGE</span><span class="p">(</span> <span class="nx">want</span><span class="p">,</span> <span class="nx">got2</span> <span class="p">);</span>
<span class="go">false</span>
</pre></div>
</div>
<p>Here is an example in the real world:</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="nx">LUNANT</span><span class="p">;</span> <span class="c1">//doctest: +IGNORE_ERROR_MESSAGE</span>
<span class="go">ReferenceError: LUNANT is not defined</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="jDoctest.flags.NORMALIZE_WHITESPACE">
<tt class="descclassname">jDoctest.flags.</tt><tt class="descname">NORMALIZE_WHITESPACE</tt><big>(</big><em>want</em>, <em>got</em><big>)</big><a class="headerlink" href="#jDoctest.flags.NORMALIZE_WHITESPACE" title="Permalink to this definition">¶</a></dt>
<dd><p>When specified, all whitespaces in the expected output and the actual
output is treated as one space. It makes your example more simple.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">want</span> <span class="o">=</span> <span class="s2">&quot;a  b  \t  c  \n  d&quot;</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">got</span> <span class="o">=</span> <span class="s2">&quot;a b\n\n\n\t\t\t\n\nc                  d&quot;</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">flag</span> <span class="o">=</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">flags</span><span class="p">.</span><span class="nx">NORMALIZE_WHITESPACE</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">flagResult</span> <span class="o">=</span> <span class="nx">flag</span><span class="p">(</span> <span class="nx">want</span><span class="p">,</span> <span class="nx">got</span> <span class="p">);</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">flagResult</span><span class="p">.</span><span class="nx">want</span><span class="p">;</span>
<span class="go">&#39;a b c d&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">flagResult</span><span class="p">.</span><span class="nx">got</span><span class="p">;</span>
<span class="go">&#39;a b c d&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">flagResult</span><span class="p">.</span><span class="nx">matched</span><span class="p">;</span>
<span class="go">true</span>
</pre></div>
</div>
<p>Here is an example in the real world:</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="nx">print</span><span class="p">(</span> <span class="s2">&quot;a\nb\nc&quot;</span> <span class="p">);</span> <span class="c1">//doctest: +NORMALIZE_WHITESPACE</span>
<span class="go">a b c</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">print</span><span class="p">(</span> <span class="s2">&quot;function() {\n\treturn 132;\n}&quot;</span><span class="p">);</span>
<span class="gp">...</span> <span class="c1">//doctest: +NORMALIZE_WHITESPACE</span>
<span class="go">function() {</span>
<span class="go">  return 132;</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="jDoctest.flags.SKIP">
<em class="property">class </em><tt class="descclassname">jDoctest.flags.</tt><tt class="descname">SKIP</tt><big>(</big><em>runner</em><big>)</big><a class="headerlink" href="#jDoctest.flags.SKIP" title="Permalink to this definition">¶</a></dt>
<dd><p>When specified, the example is skipped and not runned also. If your
example never pass yet, use this flag and remove after implement.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">{};</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">runner</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Runner</span><span class="p">(</span> <span class="nx">result</span><span class="p">,</span> <span class="p">{</span>
<span class="gp">...</span>     <span class="nx">onComplete</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">done</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="p">},</span>
<span class="gp">...</span>     <span class="nx">console</span><span class="o">:</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">_mockConsole</span>
<span class="gp">...</span> <span class="p">});</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">doctest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">([</span>
<span class="gp">...</span>     <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Example</span><span class="p">(</span> <span class="s2">&quot;1 + 1; //doctest: +SKIP&quot;</span> <span class="p">)</span>
<span class="gp">...</span> <span class="p">]);</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">done</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">runner</span><span class="p">.</span><span class="nx">run</span><span class="p">(</span> <span class="nx">doctest</span> <span class="p">);</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">wait</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">done</span><span class="p">;</span> <span class="p">});</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">result</span><span class="p">.</span><span class="nx">tries</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">result</span><span class="p">.</span><span class="nx">failures</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Here is an example in the real world:</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="mi">1000000000000000</span> <span class="o">*</span> <span class="mi">1000000000000000</span><span class="p">;</span> <span class="c1">//doctest: +SKIP</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">memcache</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="s2">&quot;ork&quot;</span> <span class="p">);</span> <span class="c1">//doctest: +SKIP</span>
<span class="go">&#39;wow!&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="helper-functions">
<h3>Helper Functions<a class="headerlink" href="#helper-functions" title="Permalink to this headline">¶</a></h3>
<p>You might want to try using <tt class="docutils literal"><span class="pre">wait</span></tt> and <tt class="docutils literal"><span class="pre">print</span></tt>. These global functions can
help you to write more powerful examples.</p>
<dl class="function">
<dt id="jDoctest.Runner.prototype.context.print">
<tt class="descclassname">jDoctest.Runner.prototype.context.</tt><tt class="descname">print</tt><big>(</big><em>output</em><big>)</big><a class="headerlink" href="#jDoctest.Runner.prototype.context.print" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a string. The output does not contain quotaions(<tt class="docutils literal"><span class="pre">'</span></tt>) or
escaped characters(<tt class="docutils literal"><span class="pre">\n</span></tt>).</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="nx">print</span><span class="p">(</span> <span class="s2">&quot;a\nb\nc&quot;</span> <span class="p">);</span>
<span class="go">a</span>
<span class="go">b</span>
<span class="go">c</span>
</pre></div>
</div>
<p>The output is before of the returned value.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="p">(</span> <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
<span class="gp">...</span>     <span class="nx">print</span><span class="p">(</span> <span class="nx">i</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="p">);</span>
<span class="gp">...</span> <span class="p">}</span>
<span class="gp">...</span> <span class="s2">&quot;done&quot;</span><span class="p">;</span>
<span class="go">0.1.2.3.4.5.6.7.8.9.10.11.12.13.14.15.16.17.18.19.</span>
<span class="go">&#39;done&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="jDoctest.Runner.prototype.context.wait">
<tt class="descclassname">jDoctest.Runner.prototype.context.</tt><tt class="descname">wait</tt><big>(</big><em>delay</em><big>)</big><a class="headerlink" href="#jDoctest.Runner.prototype.context.wait" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">delay</span></tt> is miliseconds or a function. If <tt class="docutils literal"><span class="pre">delay</span></tt> is
miliseconds, the running process will wait for the miliseconds.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">wait</span><span class="p">(</span> <span class="mi">1000</span> <span class="p">);</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">()).</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">-</span> <span class="nx">t</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">;</span>
<span class="go">true</span>
</pre></div>
</div>
<p>If <tt class="docutils literal"><span class="pre">delay</span></tt> is a function, the running process will pause while
the function returns <tt class="docutils literal"><span class="pre">false</span></tt>.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">v</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="gp">...</span>     <span class="nx">v</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="gp">...</span> <span class="p">},</span> <span class="mi">10</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="kc">undefined</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">v</span><span class="p">;</span>
<span class="go">false</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">v</span><span class="p">;</span>
<span class="go">false</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">v</span><span class="p">;</span>
<span class="go">false</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">wait</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">v</span><span class="p">;</span> <span class="p">});</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">v</span><span class="p">;</span>
<span class="go">true</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="customization">
<h3>Customization<a class="headerlink" href="#customization" title="Permalink to this headline">¶</a></h3>
<p>jDoctest allows customization of the every symbols such as the
docstring-prefix(<tt class="docutils literal"><span class="pre">/**</span></tt>), the docstring-suffix(<tt class="docutils literal"><span class="pre">*/</span></tt>), and the
prompt-markers(<tt class="docutils literal"><span class="pre">&gt;&gt;&gt;</span></tt>, <tt class="docutils literal"><span class="pre">...</span></tt>).</p>
<p>Let&#8217;s assume what you want to use different symbols that <tt class="docutils literal"><span class="pre">/*DOCSTRING*</span></tt> as
the docstring-prefix, <tt class="docutils literal"><span class="pre">*DOCSTRING*/</span></tt> as the docstring-suffix, <tt class="docutils literal"><span class="pre">$</span></tt> and <tt class="docutils literal"><span class="pre">&gt;</span></tt>
as the prompt-markers. Then follow this example:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="nx">jDoctest</span><span class="p">.</span><span class="nx">testSource</span><span class="p">(</span> <span class="s2">&quot;source-which-contains-some-docstrings.js&quot;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">symbols</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">docPrefix</span><span class="o">:</span> <span class="s2">&quot;/*DOCSTRING*&quot;</span><span class="p">,</span>
        <span class="nx">docSuffix</span><span class="o">:</span> <span class="s2">&quot;*DOCSTRING*/&quot;</span><span class="p">,</span>
        <span class="nx">prompt</span><span class="o">:</span> <span class="s2">&quot;$&quot;</span><span class="p">,</span>
        <span class="nx">continued</span><span class="o">:</span> <span class="s2">&quot;&gt;&quot;</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
<p>If you want to customize more freely or make an extension for jDoctest, see the
API chapter that is next.</p>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="jDoctest">
<em class="property">class </em><tt class="descname">jDoctest</tt><big>(</big><em>examples[, name[, source[, fileName[, lineNo ] ] ]</em><big>)</big><a class="headerlink" href="#jDoctest" title="Permalink to this definition">¶</a></dt>
<dd><p>A collaction of examples.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">([],</span> <span class="s2">&quot;lykit&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;lykit.js&quot;</span> <span class="p">);</span>
<span class="go">&lt;jDoctest lykit from lykit.js:1 (no examples)&gt;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">([</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Example</span><span class="p">(</span> <span class="s2">&quot;1;&quot;</span> <span class="p">)</span> <span class="p">]);</span>
<span class="go">&lt;jDoctest (1 example)&gt;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">([</span>
<span class="gp">...</span>     <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Example</span><span class="p">(</span> <span class="s2">&quot;1;&quot;</span> <span class="p">),</span>
<span class="gp">...</span>     <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Example</span><span class="p">(</span> <span class="s2">&quot;1;&quot;</span> <span class="p">),</span>
<span class="gp">...</span>     <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Example</span><span class="p">(</span> <span class="s2">&quot;2;&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span> <span class="p">)</span>
<span class="gp">...</span> <span class="p">]);</span>
<span class="go">&lt;jDoctest (3 examples)&gt;</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="jDoctest.OutputChecker">
<em class="property">static </em><tt class="descname">OutputChecker</tt><a class="headerlink" href="#jDoctest.OutputChecker" title="Permalink to this definition">¶</a></dt>
<dd><p>The default output checker. Every output checkers must have <tt class="docutils literal"><span class="pre">checkOutput</span></tt>
method.</p>
<dl class="staticmethod">
<dt id="jDoctest.checkOutput">
<em class="property">static </em><tt class="descname">checkOutput</tt><big>(</big><em>want</em>, <em>got</em>, <em>flags</em><big>)</big><a class="headerlink" href="#jDoctest.checkOutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if got output matched to wanted output.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">checker</span> <span class="o">=</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">OutputChecker</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">checker</span><span class="p">.</span><span class="nx">checkOutput</span><span class="p">(</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span> <span class="p">);</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">checker</span><span class="p">.</span><span class="nx">checkOutput</span><span class="p">(</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span> <span class="p">);</span>
<span class="go">false</span>
</pre></div>
</div>
<p>If some matching flags in <tt class="docutils literal"><span class="pre">flags</span></tt>, that will be called. And if the
result is a <tt class="docutils literal"><span class="pre">true</span></tt>, it returns <tt class="docutils literal"><span class="pre">true</span></tt> also. Otherwise it returns
just <tt class="docutils literal"><span class="pre">false</span></tt>.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="nx">checker</span><span class="p">.</span><span class="nx">checkOutput</span><span class="p">(</span> <span class="s2">&quot;a...f&quot;</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="p">[</span>
<span class="gp">...</span>     <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">flags</span><span class="p">.</span><span class="nx">ELLIPSIS</span>
<span class="gp">...</span> <span class="p">]);</span>
<span class="go">true</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="jDoctest._mockConsole">
<em class="property">static </em><tt class="descname">_mockConsole</tt><a class="headerlink" href="#jDoctest._mockConsole" title="Permalink to this definition">¶</a></dt>
<dd><p>It has methods named <tt class="docutils literal"><span class="pre">log</span></tt>, <tt class="docutils literal"><span class="pre">warn</span></tt>, <tt class="docutils literal"><span class="pre">error</span></tt>, and <tt class="docutils literal"><span class="pre">dir</span></tt>. All
methods do not anything. jDoctest uses it instead of <tt class="docutils literal"><span class="pre">window.console</span></tt>
in IE6 or Firefox without FireBug. Because <tt class="docutils literal"><span class="pre">window.console</span></tt> object
is not available in there.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">_mockConsole</span><span class="p">.</span><span class="nx">log</span> <span class="o">===</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">_mockConsole</span><span class="p">.</span><span class="nx">warn</span><span class="p">;</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">_mockConsole</span><span class="p">.</span><span class="nx">log</span> <span class="o">===</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">_mockConsole</span><span class="p">.</span><span class="nx">error</span><span class="p">;</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">_mockConsole</span><span class="p">.</span><span class="nx">log</span> <span class="o">===</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">_mockConsole</span><span class="p">.</span><span class="nx">dir</span><span class="p">;</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="o">!!</span><span class="sr">/\{\s*\}/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">_mockConsole</span><span class="p">.</span><span class="nx">log</span> <span class="p">)</span> <span class="p">);</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Runner</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">console</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">;</span>
<span class="go">true</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="jDoctest._escapeRegExp">
<em class="property">static </em><tt class="descname">_escapeRegExp</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#jDoctest._escapeRegExp" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span> <span class="n">jDoctest</span><span class="o">.</span><span class="n">_escapeRegExp</span><span class="p">(</span> <span class="s">&quot;/.*+?|&quot;</span> <span class="p">)</span> <span class="p">);</span>
<span class="go">\/\.\*\+\?\|</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="jDoctest._indent">
<em class="property">static </em><tt class="descname">_indent</tt><big>(</big><em>indent</em>, <em>text</em><big>)</big><a class="headerlink" href="#jDoctest._indent" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an indent to each lines.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">_indent</span><span class="p">(</span> <span class="s2">&quot;abc&quot;</span> <span class="p">);</span>
<span class="go">&#39;    abc&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">_indent</span><span class="p">(</span> <span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;abc&quot;</span> <span class="p">);</span>
<span class="go">&#39; abc&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">print</span><span class="p">(</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">_indent</span><span class="p">(</span> <span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;abc\ndef&quot;</span> <span class="p">)</span> <span class="p">);</span>
 <span class="nx">abc</span>
 <span class="nx">def</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="jDoctest._outindent">
<em class="property">static </em><tt class="descname">_outindent</tt><big>(</big><em>indent</em>, <em>text</em><big>)</big><a class="headerlink" href="#jDoctest._outindent" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes an indent from each lines.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="jDoctest.getMaterials">
<em class="property">static </em><tt class="descname">getMaterials</tt><big>(</big><em>options</em><big>)</big><a class="headerlink" href="#jDoctest.getMaterials" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#jDoctest.Parser" title="jDoctest.Parser"><tt class="xref js js-class docutils literal"><span class="pre">jDoctest.Parser()</span></tt></a> and a <a class="reference internal" href="#jDoctest.Runner" title="jDoctest.Runner"><tt class="xref js js-class docutils literal"><span class="pre">jDoctest.Runner()</span></tt></a> from
<tt class="docutils literal"><span class="pre">options</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">options</span></tt> is <a class="reference internal" href="#jDoctest.Runner" title="jDoctest.Runner"><tt class="xref js js-class docutils literal"><span class="pre">jDoctest.Runner()</span></tt></a>&#8216;s <tt class="docutils literal"><span class="pre">options</span></tt> parameter. But it
also contains <tt class="docutils literal"><span class="pre">symbols</span></tt> key for <a class="reference internal" href="#jDoctest.Parser" title="jDoctest.Parser"><tt class="xref js js-class docutils literal"><span class="pre">jDoctest.Parser()</span></tt></a>&#8216;s <tt class="docutils literal"><span class="pre">symbols</span></tt>
parameter.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">pr</span> <span class="o">=</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">getMaterials</span><span class="p">({</span>
<span class="gp">...</span>     <span class="nx">verbose</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
<span class="gp">...</span>     <span class="nx">symbols</span><span class="o">:</span> <span class="p">{</span>
<span class="gp">...</span>         <span class="nx">prompt</span><span class="o">:</span> <span class="s2">&quot;$&quot;</span><span class="p">,</span>
<span class="gp">...</span>         <span class="nx">continued</span><span class="o">:</span> <span class="s2">&quot;&gt;&quot;</span>
<span class="gp">...</span>     <span class="p">}</span>
<span class="gp">...</span> <span class="p">});</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">parser</span> <span class="o">=</span> <span class="nx">pr</span><span class="p">.</span><span class="nx">parser</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">runner</span> <span class="o">=</span> <span class="nx">pr</span><span class="p">.</span><span class="nx">runner</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">parser</span><span class="p">.</span><span class="nx">symbols</span><span class="p">.</span><span class="nx">prompt</span><span class="p">;</span>
<span class="go">&#39;$&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">parser</span><span class="p">.</span><span class="nx">symbols</span><span class="p">.</span><span class="nx">continued</span><span class="p">;</span>
<span class="go">&#39;&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">runner</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">verbose</span><span class="p">;</span>
<span class="go">true</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="jDoctest.repr">
<em class="property">static </em><tt class="descname">repr</tt><big>(</big><em>val</em><big>)</big><a class="headerlink" href="#jDoctest.repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a value.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">repr</span><span class="p">(</span> <span class="kc">undefined</span> <span class="p">);</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">repr</span><span class="p">(</span> <span class="p">[]</span> <span class="p">);</span>
<span class="go">&#39;[]&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">repr</span><span class="p">(</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="p">);</span>
<span class="go">&#39;[1, 2, 3]&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">repr</span><span class="p">(</span> <span class="s2">&quot;Hello, world!&quot;</span> <span class="p">);</span>
<span class="go">&#39;\&#39;Hello, world!\&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">repr</span><span class="p">(</span> <span class="s2">&quot;It&#39;s my world!&quot;</span> <span class="p">);</span>
<span class="go">&#39;\&#39;It\\\&#39;s my world!\&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">repr</span><span class="p">(</span> <span class="p">[</span><span class="s2">&quot;It&#39;s my world!&quot;</span><span class="p">]</span> <span class="p">);</span>
<span class="go">&#39;[\&#39;It\\\&#39;s my world!\&#39;]&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">repr</span><span class="p">(</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">flags</span><span class="p">.</span><span class="nx">SKIP</span> <span class="p">);</span>
<span class="go">&#39;&lt;jDoctest.flags.SKIP&gt;&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="jDoctest.testFile">
<em class="property">static </em><tt class="descname">testFile</tt><big>(</big><em>fileName</em><span class="optional">[</span>, <em>options</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#jDoctest.testFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests a file</p>
<div class="highlight-js"><div class="highlight"><pre><span class="nx">jDoctest</span><span class="p">.</span><span class="nx">testFile</span><span class="p">(</span> <span class="s2">&quot;a-docstring.txt&quot;</span> <span class="p">);</span>
</pre></div>
</div>
<p>The content of the file is a docstring. <a class="reference internal" href="#jDoctest.Parser" title="jDoctest.Parser"><tt class="xref js js-class docutils literal"><span class="pre">jDoctest.Parser()</span></tt></a> finds
only examples(not docstrings).</p>
<div class="highlight-js"><pre>- :meth:`jDoctest.testSource`</pre>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="jDoctest.testSource">
<em class="property">static </em><tt class="descname">testSource</tt><big>(</big><em>fileName</em><span class="optional">[</span>, <em>options</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#jDoctest.testSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests a JavaScript source file</p>
<div class="highlight-js"><div class="highlight"><pre><span class="nx">jDoctest</span><span class="p">.</span><span class="nx">testSource</span><span class="p">(</span> <span class="s2">&quot;source-which-contains-docstrings.js&quot;</span> <span class="p">);</span>
</pre></div>
</div>
<p>The source file should contain some docstrings. A docstring is a
multiline-comment which starts with <tt class="docutils literal"><span class="pre">/**</span></tt> or a specified doc-prefix.</p>
<div class="highlight-js"><pre>- :meth:`jDoctest.testFile`</pre>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="jDoctest.Example">
<em class="property">class </em><tt class="descclassname">jDoctest.</tt><tt class="descname">Example</tt><big>(</big><em>source</em>, <em>want</em><span class="optional">[</span>, <em>lineNo</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#jDoctest.Example" title="Permalink to this definition">¶</a></dt>
<dd><p>A JavaScript example.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">exam</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Example</span><span class="p">(</span> <span class="s2">&quot;1 + 1;&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span> <span class="p">);</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">exam</span><span class="p">;</span>
<span class="go">&lt;jDoctest.Example&gt;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">exam</span><span class="p">.</span><span class="nx">source</span><span class="p">;</span>
<span class="go">&#39;1 + 1;&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">exam</span><span class="p">.</span><span class="nx">want</span><span class="p">;</span>
<span class="go">&#39;2&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">exam</span><span class="p">.</span><span class="nx">flags</span><span class="p">;</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;throw new Error(); //doctest: +SKIP&quot;</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">flagedExam</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Example</span><span class="p">(</span> <span class="nx">src</span><span class="p">,</span> <span class="kc">undefined</span> <span class="p">);</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">flagedExam</span><span class="p">.</span><span class="nx">flags</span><span class="p">;</span>
<span class="go">[&lt;jDoctest.flags.SKIP&gt;]</span>
</pre></div>
</div>
<dl class="method">
<dt id="jDoctest.Example.prototype._findFlags">
<tt class="descname">_findFlags</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#jDoctest.Example.prototype._findFlags" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a flag list from the source code.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;1; //doctest: +SKIP +ELLIPSIS&quot;</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">exam</span> <span class="o">=</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Example</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">flags</span> <span class="o">=</span> <span class="nx">exam</span><span class="p">.</span><span class="nx">_findFlags</span><span class="p">(</span> <span class="nx">src</span> <span class="p">);</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">flags</span><span class="p">.</span><span class="nx">positive</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">flags</span><span class="p">.</span><span class="nx">SKIP</span> <span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">flags</span><span class="p">.</span><span class="nx">positive</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">flags</span><span class="p">.</span><span class="nx">ELLIPSIS</span> <span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">flags</span><span class="p">.</span><span class="nx">positive</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">flags</span><span class="p">.</span><span class="nx">ACCEPT_BLANKLINE</span> <span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">;</span>
<span class="go">true</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="jDoctest.Parser">
<em class="property">class </em><tt class="descclassname">jDoctest.</tt><tt class="descname">Parser</tt><big>(</big><em>symbols</em><big>)</big><a class="headerlink" href="#jDoctest.Parser" title="Permalink to this definition">¶</a></dt>
<dd><p>A parser to catch docstrings and interactive examples.</p>
<p>You could specify doc-prefix or doc-suffix or prompt symbols using
<tt class="docutils literal"><span class="pre">symbols</span></tt> argument:</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">myParser</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Parser</span><span class="p">({</span>
<span class="gp">...</span>     <span class="nx">docPrefix</span><span class="o">:</span> <span class="s2">&quot;/*+&quot;</span><span class="p">,</span>
<span class="gp">...</span>     <span class="nx">docSuffix</span><span class="o">:</span> <span class="s2">&quot;+*&quot;</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span>
<span class="gp">...</span> <span class="p">});</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">myParser</span></tt> has differant symbols. It executes like:</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;this is not a docstring.\n&quot;</span> <span class="o">+</span>
<span class="gp">...</span>     <span class="s2">&quot;/*+ this is a docstring +*&quot;</span> <span class="o">+</span> <span class="s2">&quot;/\n&quot;</span> <span class="o">+</span>
<span class="gp">...</span>     <span class="s2">&quot;/** this is not a docstring *&quot;</span> <span class="o">+</span> <span class="s2">&quot;/\n&quot;</span> <span class="o">+</span>
<span class="gp">...</span>     <span class="s2">&quot;/** this is not a docstring also *&quot;</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">doctests</span> <span class="o">=</span> <span class="nx">myParser</span><span class="p">.</span><span class="nx">getDoctests</span><span class="p">(</span> <span class="nx">src</span> <span class="p">);</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">doctests</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="go">1</span>
</pre></div>
</div>
<dl class="method">
<dt id="jDoctest.Parser.prototype.getDoctests">
<tt class="descname">getDoctests</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#jDoctest.Parser.prototype.getDoctests" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a JavaScript source and returns docstring list.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">parser</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Parser</span><span class="p">({</span>
<span class="gp">...</span>     <span class="nx">docPrefix</span><span class="o">:</span> <span class="s2">&quot;/*+&quot;</span><span class="p">,</span>
<span class="gp">...</span>     <span class="nx">docSuffix</span><span class="o">:</span> <span class="s2">&quot;+*&quot;</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span>
<span class="gp">...</span> <span class="p">});</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">doctests</span> <span class="o">=</span> <span class="nx">parser</span><span class="p">.</span><span class="nx">getDoctests</span><span class="p">(</span>
<span class="gp">...</span>     <span class="s2">&quot;/*+ Hello, world! +*&quot;</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span>
<span class="gp">...</span> <span class="p">);</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">doctests</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">doctests</span><span class="p">[</span> <span class="mi">0</span> <span class="p">];</span>
<span class="go">&lt;jDoctest (no examples)&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="jDoctest.Parser.prototype.getExamples">
<tt class="descname">getExamples</tt><big>(</big><em>docString</em><big>)</big><a class="headerlink" href="#jDoctest.Parser.prototype.getExamples" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns :class:<a href="#id1"><span class="problematic" id="id2">`</span></a>jDoctest.Example`s from a docstring.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;asdfasdfsdf\n&quot;</span> <span class="o">+</span>
<span class="gp">...</span> <span class="s2">&quot;sadfasdf\n&quot;</span> <span class="o">+</span>
<span class="gp">...</span> <span class="s2">&quot;\n&quot;</span> <span class="o">+</span>
<span class="gp">...</span> <span class="s2">&quot;  $ asfsdf;\n&quot;</span> <span class="o">+</span>
<span class="gp">...</span> <span class="s2">&quot;  &gt; 12312;\n&quot;</span> <span class="o">+</span>
<span class="gp">...</span> <span class="s2">&quot;  &gt; function() {\n&quot;</span> <span class="o">+</span>
<span class="gp">...</span> <span class="s2">&quot;  &gt;   return &#39;123123&#39;;\n&quot;</span> <span class="o">+</span>
<span class="gp">...</span> <span class="s2">&quot;  &gt; }\n&quot;</span> <span class="o">+</span>
<span class="gp">...</span> <span class="s2">&quot;  123123\n&quot;</span> <span class="o">+</span>
<span class="gp">...</span> <span class="s2">&quot;  $ gggggggg;\n&quot;</span> <span class="o">+</span>
<span class="gp">...</span> <span class="s2">&quot;  213123\n&quot;</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">parser</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Parser</span><span class="p">({</span>
<span class="gp">...</span>     <span class="nx">prompt</span><span class="o">:</span> <span class="s2">&quot;$&quot;</span><span class="p">,</span>
<span class="gp">...</span>     <span class="nx">continued</span><span class="o">:</span> <span class="s2">&quot;&gt;&quot;</span>
<span class="gp">...</span> <span class="p">});</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">examples</span> <span class="o">=</span> <span class="nx">parser</span><span class="p">.</span><span class="nx">getExamples</span><span class="p">(</span> <span class="nx">src</span> <span class="p">);</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">examples</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">print</span><span class="p">(</span> <span class="nx">examples</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span><span class="nx">source</span> <span class="p">);</span>
<span class="go">asfsdf;</span>
<span class="go">12312;</span>
<span class="go">function() {</span>
<span class="go">  return &#39;123123&#39;;</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">examples</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span><span class="nx">want</span><span class="p">;</span>
<span class="go">&#39;123123&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">examples</span><span class="p">[</span> <span class="mi">1</span> <span class="p">].</span><span class="nx">source</span><span class="p">;</span>
<span class="go">&#39;gggggggg;&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">examples</span><span class="p">[</span> <span class="mi">1</span> <span class="p">].</span><span class="nx">want</span><span class="p">;</span>
<span class="go">&#39;213123&#39;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="jDoctest.Runner">
<em class="property">class </em><tt class="descclassname">jDoctest.</tt><tt class="descname">Runner</tt><big>(</big><em>result</em><span class="optional">[</span>, <em>options</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#jDoctest.Runner" title="Permalink to this definition">¶</a></dt>
<dd><p>The runner is used to run a doctest.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">{},</span> <span class="nx">done</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">doctest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">([</span>
<span class="gp">...</span>     <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Example</span><span class="p">(</span> <span class="s2">&quot;1;&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span> <span class="p">),</span>
<span class="gp">...</span>     <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Example</span><span class="p">(</span> <span class="s2">&quot;0; //doctest: +SKIP&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span> <span class="p">),</span>
<span class="gp">...</span>     <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Example</span><span class="p">(</span> <span class="s2">&quot;0;&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span> <span class="p">),</span>
<span class="gp">...</span> <span class="p">]);</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">runner</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Runner</span><span class="p">(</span> <span class="nx">result</span><span class="p">,</span> <span class="p">{</span>
<span class="gp">...</span>     <span class="nx">onComplete</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">done</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="p">},</span>
<span class="gp">...</span>     <span class="nx">console</span><span class="o">:</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">_mockConsole</span>
<span class="gp">...</span> <span class="p">});</span>
</pre></div>
</div>
<p>It will update <tt class="docutils literal"><span class="pre">result</span></tt> object which is given. <tt class="docutils literal"><span class="pre">result</span></tt> is extended to
have arrays named tries, successes, failures, and skips.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="nx">result</span><span class="p">.</span><span class="nx">tries</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">runner</span><span class="p">.</span><span class="nx">run</span><span class="p">(</span> <span class="nx">doctest</span> <span class="p">);</span>
</pre></div>
</div>
<p>When all test done <tt class="docutils literal"><span class="pre">result</span></tt>&#8216;s arrays is also updated.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="nx">wait</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">done</span><span class="p">;</span> <span class="p">});</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">result</span><span class="p">.</span><span class="nx">tries</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">result</span><span class="p">.</span><span class="nx">successes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">result</span><span class="p">.</span><span class="nx">failures</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="go">1</span>
</pre></div>
</div>
<dl class="method">
<dt id="jDoctest.Runner.prototype.adjustFlags">
<tt class="descname">adjustFlags</tt><big>(</big><em>flags</em>, <em>negativeFlags</em><big>)</big><a class="headerlink" href="#jDoctest.Runner.prototype.adjustFlags" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a flag list that is adjusted with the runner&#8217;s flags.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">runner</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Runner</span><span class="p">(</span> <span class="p">{},</span> <span class="p">{</span>
<span class="gp">...</span>     <span class="nx">flags</span><span class="o">:</span> <span class="p">[</span><span class="nx">jDoctest</span><span class="p">.</span><span class="nx">flags</span><span class="p">.</span><span class="nx">SKIP</span><span class="p">,</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">flags</span><span class="p">.</span><span class="nx">ELLIPSIS</span><span class="p">]</span>
<span class="gp">...</span> <span class="p">});</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">runner</span><span class="p">.</span><span class="nx">adjustFlags</span><span class="p">([</span>
<span class="gp">...</span>     <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">flags</span><span class="p">.</span><span class="nx">IGNORE_ERROR_MESSAGE</span>
<span class="gp">...</span> <span class="p">],</span> <span class="p">[</span>
<span class="gp">...</span>     <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">flags</span><span class="p">.</span><span class="nx">SKIP</span>
<span class="gp">...</span> <span class="p">]);</span>
<span class="go">[&lt;jDoctest.flags.IGNORE_ERROR_MESSAGE&gt;, &lt;jDoctest.flags.ELLIPSIS&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="jDoctest.Runner.prototype.register">
<tt class="descname">register</tt><big>(</big><em>doctest</em><big>)</big><a class="headerlink" href="#jDoctest.Runner.prototype.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a doctest to the task list.</p>
</dd></dl>

<dl class="method">
<dt id="jDoctest.Runner.prototype.run">
<tt class="descname">run</tt><big>(</big><span class="optional">[</span><em>doctest</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#jDoctest.Runner.prototype.run" title="Permalink to this definition">¶</a></dt>
<dd><p>This method registers a doctest to its task list first. And runs
tasks</p>
<div class="highlight-js"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">runner</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Runner</span><span class="p">({});</span>
<span class="kd">var</span> <span class="nx">doctest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">();</span>
<span class="nx">runner</span><span class="p">.</span><span class="nx">run</span><span class="p">(</span> <span class="nx">doctest</span> <span class="p">);</span>
</pre></div>
</div>
<p>Or</p>
<div class="highlight-js"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">runner</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Runner</span><span class="p">({});</span>
<span class="kd">var</span> <span class="nx">doctest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">();</span>
<span class="nx">runner</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span> <span class="nx">doctest</span> <span class="p">);</span>
<span class="nx">runner</span><span class="p">.</span><span class="nx">run</span><span class="p">();</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="jDoctest.Runner.extend">
<em class="property">static </em><tt class="descname">extend</tt><big>(</big><em>prototype</em><big>)</big><a class="headerlink" href="#jDoctest.Runner.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a new runner class which extends <a class="reference internal" href="#jDoctest.Runner" title="jDoctest.Runner"><tt class="xref js js-class docutils literal"><span class="pre">jDoctest.Runner()</span></tt></a>. The new
runner&#8217;s constructor needs an other <a class="reference internal" href="#jDoctest.Runner" title="jDoctest.Runner"><tt class="xref js js-class docutils literal"><span class="pre">jDoctest.Runner()</span></tt></a> instance. It
shares some attributes with the other runner.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">MyRunner</span> <span class="o">=</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Runner</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="gp">...</span>     <span class="nx">reportStart</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="gp">...</span>         <span class="k">this</span><span class="p">.</span><span class="nx">result</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="s2">&quot;bar&quot;</span><span class="p">;</span>
<span class="gp">...</span>         <span class="nx">print</span><span class="p">(</span> <span class="s2">&quot;MY RUNNER!&quot;</span> <span class="p">);</span>
<span class="gp">...</span>     <span class="p">}</span>
<span class="gp">...</span> <span class="p">});</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">{};</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">runner</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Runner</span><span class="p">(</span> <span class="nx">result</span> <span class="p">);</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kd">var</span> <span class="nx">myRunner</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyRunner</span><span class="p">(</span> <span class="nx">runner</span> <span class="p">);</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">myRunner</span> <span class="k">instanceof</span> <span class="nx">MyRunner</span><span class="p">;</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">myRunner</span> <span class="k">instanceof</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Runner</span><span class="p">;</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">myRunner</span><span class="p">.</span><span class="nx">reportStart</span><span class="p">();</span>
<span class="go">MY RUNNER!</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">myRunner</span><span class="p">.</span><span class="nx">result</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span>
<span class="go">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nx">runner</span><span class="p">.</span><span class="nx">result</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span>
<span class="go">&#39;bar&#39;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="jDoctest.Runner.prototype.options.flags">
<tt class="descclassname">jDoctest.Runner.prototype.options.</tt><tt class="descname">flags</tt><a class="headerlink" href="#jDoctest.Runner.prototype.options.flags" title="Permalink to this definition">¶</a></dt>
<dd><p>The default flags.</p>
<div class="highlight-jscon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt;</span> <span class="p">(</span><span class="k">new</span> <span class="nx">jDoctest</span><span class="p">.</span><span class="nx">Runner</span><span class="p">(</span> <span class="p">{}</span> <span class="p">)).</span><span class="nx">options</span><span class="p">.</span><span class="nx">flags</span><span class="p">;</span>
<span class="go">[&lt;jDoctest.flags.ACCEPT_TRUE_FOR_1&gt;, &lt;jDoctest.flags.ACCEPT_BLANKLINE&gt;]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>jDoctest is licensed with <a class="reference external" href="http://en.wikipedia.org/wiki/MIT_License">MIT</a> + <a class="reference external" href="http://en.wikipedia.org/wiki/GNU_General_Public_License#Version_2">GPL2</a>, so feel free to use and manipulate
as long as you respect these licenses. To get the details, see
<tt class="file docutils literal"><span class="pre">MIT-LICENSE.txt</span></tt> and <tt class="file docutils literal"><span class="pre">GPL-LICENSE.txt</span></tt>.</p>
<div class="section" id="authors">
<h3>Authors<a class="headerlink" href="#authors" title="Permalink to this headline">¶</a></h3>
<p>jDoctest is written by <a class="reference external" href="http://lunant.com/">Lunant</a>&#8216;s jDoctest team.</p>
<dl class="docutils">
<dt><a class="reference external" href="mailto:sublee&#37;&#52;&#48;lunant&#46;com">Lee Heung-sub</a>:</dt>
<dd><ul class="first last simple">
<li>Propose the project.</li>
<li>Development the project.</li>
<li>Make the logo.</li>
<li>Design the Sphinx theme.</li>
<li>Write the documentation and the docstrings.</li>
</ul>
</dd>
<dt><a class="reference external" href="mailto:kijun&#37;&#52;&#48;lunant&#46;com">Kijun Seo</a>:</dt>
<dd><ul class="first last simple">
<li>Inspect the documentation and the docstrings.</li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section" id="more-informations">
<h2>More Informations<a class="headerlink" href="#more-informations" title="Permalink to this headline">¶</a></h2>
<p>You can propose an issue to the <a class="reference external" href="http://github.com/lunant/jdoctest/issues">issues</a> page and ask some question to the
mailing list. To subscribe the mailing list, send a mail to
<a class="reference external" href="mailto:jdoctest&#37;&#52;&#48;librelist&#46;com">jdoctest<span>&#64;</span>librelist<span>&#46;</span>com</a>.</p>
<p>And there is <a class="reference external" href="http://ianb.github.com/doctestjs">doctest.js</a> which is good alternative JavaScript implementation
of doctest from a different angle.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
  <a href="http://github.com/lunant/jdoctest"><img
    style="position: absolute; top: 0; right: 0; border: 0;"
    src="_static/fork_jdoctest.png"
    alt="Fork me on GitHub" /></a>
  

    
    <div class="footer">
        &copy; Copyright 2010, Lee Heung-sub.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.3.
    </div>
  </div>

  </body>
</html>